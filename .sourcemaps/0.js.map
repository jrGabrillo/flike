{"version":3,"sources":["../../src/pages/chat/chat.module.ts","../../src/models/message.model.ts","../../src/models/flikeUser.model.ts","../../src/models/chatroom.model.ts","../../src/components/survey/survey.ts","../../src/components/survey-pick-survey/survey-pick-survey.ts","../../src/pages/chat/chat.ts","../../src/components/components.module.ts","../../src/components/check-box/check-box.ts","../../src/components/emoji-picker/emoji-picker.ts","../../src/components/how-much-survey/how-much-survey.ts","../../src/components/image-survey/image-survey.ts","../../src/components/open-text-survey/open-text-survey.ts","../../src/components/radio-button-survey/radio-button-survey.ts","../../src/components/rank-survey/rank-survey.ts","../../src/components/survey-picker/survey-picker.ts","../../src/components/user-select/user-select.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACd;AAC0B;AACoB;AACV;AACvB;AAmB/C;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAjB1B,uEAAQ,CAAC;YACN,YAAY,EAAE;gBACV,uDAAQ;aACX;YACD,OAAO,EAAE;gBACL,sEAAe,CAAC,QAAQ,CAAC,uDAAQ,CAAC;gBAClC,uFAAgB;gBAChB,qEAAY;aACf;YACD,OAAO,EAAE;gBACL,uDAAQ;aACX;YACD,SAAS,EAAC;gBACN,iGAAmB;gBACnB,6EAAa;aAChB;SACJ,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;ACzB3B;AAAA;IAEI,iBACW,OAAc,EACd,MAAc,EACd,SAAiB,EACjB,aAAqB,EACrB,MAAW;QAJX,YAAO,GAAP,OAAO,CAAO;QACd,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAQ;QACjB,kBAAa,GAAb,aAAa,CAAQ;QACrB,WAAM,GAAN,MAAM,CAAK;IACpB,CAAC;IACP,cAAC;AAAD,CAAC;;;;;;;;;;ACTD;AAAA;IACI,mBACW,EAAS,EACT,SAAiB,EACjB,QAAe,EACf,QAAe,EACf,UAAkB,EAClB,KAAa,EACb,MAAW,EACX,cAAqB;QAPrB,OAAE,GAAF,EAAE,CAAO;QACT,cAAS,GAAT,SAAS,CAAQ;QACjB,aAAQ,GAAR,QAAQ,CAAO;QACf,aAAQ,GAAR,QAAQ,CAAO;QACf,eAAU,GAAV,UAAU,CAAQ;QAClB,UAAK,GAAL,KAAK,CAAQ;QACb,WAAM,GAAN,MAAM,CAAK;QACX,mBAAc,GAAd,cAAc,CAAO;IAGhC,CAAC;IACL,gBAAC;AAAD,CAAC;;;;;;;;;;ACbD;AAAA;IAGI,kBAAmB,EAAS,EACT,IAAa,EACb,cAAsB,EACtB,SAAiB,EACjB,UAAuB,EACvB,qBAAiC;QALjC,OAAE,GAAF,EAAE,CAAO;QACT,SAAI,GAAJ,IAAI,CAAS;QACb,mBAAc,GAAd,cAAc,CAAQ;QACtB,cAAS,GAAT,SAAS,CAAQ;QACjB,eAAU,GAAV,UAAU,CAAa;QACvB,0BAAqB,GAArB,qBAAqB,CAAY;IAClD,CAAC;IACP,eAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACVyC;AAEgB;AACe;AACZ;AAM7D;IAMI,yBAAmB,QAAwB,EACxB,SAAoB,EACpB,KAAqB,EACrB,KAAsB;QAHtB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,cAAS,GAAT,SAAS,CAAW;QACpB,UAAK,GAAL,KAAK,CAAgB;QACrB,UAAK,GAAL,KAAK,CAAiB;QANzC,YAAO,GAAQ,wDAAO,CAAC;QASnB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAC,EAAE,EAAE,qEAAiB,EAAE,EAAC,QAAQ,EAAG,EAAE,EAAC,YAAY,EAAE,EAAE,EAAC,OAAO,EAAE,EAAE,EAAC,OAAO,EAAE,EAAE,EAAC;QACzH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;IAC5B,CAAC;IAED,oCAAU,GAAV;QACI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,MAAM,EAAC,IAAI,CAAC,MAAM,EAAC,CAAC;IAC/C,CAAC;IACD,oCAAU,GAAV,UAAW,EAAE;QAAb,iBAeC;QAdG,EAAE,CAAC,cAAc,EAAE;QACnB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,qEAAiB,EAAC,mEAAe,CAAC;aAC9C,IAAI,CAAE,iBAAO;YACV,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBAAC,KAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAChC,IAAI;gBAAC,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YAC5B,KAAI,CAAC,YAAY,CAAC,KAAI,CAAC,MAAM,CAAC;YAC9B,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,qEAAiB,EAAC,mEAAe,EAAC,KAAI,CAAC,OAAO,CAAC;iBAC3D,IAAI,CAAE;gBACH,IAAI,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,QAAQ,EAAC,cAAc,EAAC,CAAC;gBACxD,KAAK,CAAC,OAAO,EAAE;YACnB,CAAC,CAAC;QACV,CAAC,CAAC;IAEV,CAAC;IACD,gCAAM,GAAN;QACI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;IAC3B,CAAC;IACD,mCAAS,GAAT,UAAU,KAAK,EAAC,IAAW;QACvB,KAAK,CAAC,cAAc,EAAE;QAEtB,MAAM,CAAC,CAAC,IAAI,CAAC,EAAC;YACV,KAAK,oEAAgB,CAAC,GAAG;gBACrB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;oBAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,GAAG,EAAE;gBACpE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;gBACrC,KAAK,CAAC;YACV,KAAK,uEAAmB,CAAC,GAAG;gBACxB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC;oBAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,GAAG,EAAE;gBAC1E,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC;gBACxC,KAAK,CAAC;YACV,KAAK,gEAAY,CAAC,GAAG;gBACjB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;oBAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,GAAG,EAAE;gBAC5D,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,MAAM,EAAC,EAAE,EAAC,CAAC;gBAC1C,KAAK,CAAC;QACd,CAAC;QACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;IAE5B,CAAC;IAED,sCAAY,GAAZ;QACI,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,KAAK,EAAC,eAAe,EAAC,OAAO,EAAC;gBACzD,EAAC,IAAI,EAAC,KAAK;oBACP,OAAO,EAAC,cAAK,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,GAAC,EAAC;gBACrC,EAAC,IAAI,EAAC,IAAI;oBACN,OAAO,EAAC,cAAK,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAC,EAAC;aACvC,EAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE;QACf,yCAAyC;IAC7C,CAAC;IAED,sCAAY,GAAZ,UAAa,MAAa;QACtB,IAAI,aAAa,GAAG,CAAC,CAAC,CAAC;QACvB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;YAC1C,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,KAAK,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBAAC,aAAa,GAAG,CAAC,CAAC;QAC5D,CAAC;QACD,EAAE,CAAC,CAAC,aAAa,IAAI,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,GAAG,MAAM,CAAC;QAC9D,IAAI;YAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC;IAClC,CAAC;IA9EQ,eAAe;QAJ3B,wEAAS,CAAC;YACP,QAAQ,EAAE,QAAQ;WACQ;SAC7B,CAAC;6EAO6C;YACb,qFAAS;YACb,sEAAc;YACd,YAAe;OAThC,eAAe,CA+E3B;IAAD,CAAC;AAAA;SA/EY,eAAe,U;;;;;;;;;;;;;;;;;;;;;;;ACVoB;AAEU;AACI;AACb;AACY;AAC7D;;;;;GAKG;AAKH;IAKI,mCAAmB,SAA0B,EAAQ,KAAoB,EACtD,QAAwB;QADxB,cAAS,GAAT,SAAS,CAAiB;QAAQ,UAAK,GAAL,KAAK,CAAe;QACtD,aAAQ,GAAR,QAAQ,CAAgB;QAH3C,YAAO,GAAiB,EAAE;IAGsB,CAAC;IAEjD,4CAAQ,GAAR;QAAA,iBAiDC;QAhDG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,qEAAiB,EAAC,mEAAe,CAAC;aAC9C,IAAI,CAAE,iBAAO;YACV,KAAI,CAAC,OAAO,GAAG,OAAO,IAAI,CAAC;oBACvB,EAAE,EAAE,qEAAiB,EAAE;oBACvB,YAAY,EAAE,oEAAgB,CAAC,GAAG;oBAClC,QAAQ,EAAE,4BAA4B;oBACtC,OAAO,EAAE,EAAE;oBACX,OAAO,EAAE,EAAE;iBACd,EAAC;oBACE,EAAE,EAAC,qEAAiB,EAAE;oBACtB,YAAY,EAAE,oEAAgB,CAAC,GAAG;oBAClC,QAAQ,EAAE,8BAA8B;oBACxC,OAAO,EAAE,EAAE;oBACX,OAAO,EAAE;wBACL,QAAQ,EAAE;4BACN,EAAC,MAAM,EAAE,UAAU,EAAC;4BACpB,EAAC,MAAM,EAAE,UAAU,EAAC;4BACpB,EAAC,MAAM,EAAE,UAAU,EAAC;yBACvB;qBACJ;iBACJ,EAAC;oBACE,EAAE,EAAC,qEAAiB,EAAE;oBACtB,YAAY,EAAE,uEAAmB,CAAC,GAAG;oBACrC,QAAQ,EAAE,gCAAgC;oBAC1C,OAAO,EAAE,EAAE;oBACX,OAAO,EAAE;wBACL,WAAW,EAAE;4BACT,EAAC,MAAM,EAAE,UAAU,EAAC;4BACpB,EAAC,MAAM,EAAE,UAAU,EAAC;4BACpB,EAAC,MAAM,EAAE,UAAU,EAAC;yBACvB;qBACJ;iBACJ,EAAC;oBACE,EAAE,EAAC,qEAAiB,EAAE;oBACtB,YAAY,EAAE,gEAAY,CAAC,GAAG;oBAC9B,QAAQ,EAAE,uBAAuB;oBACjC,OAAO,EAAE,EAAE;oBACX,OAAO,EAAE;wBACL,IAAI,EAAE;4BACF,EAAC,MAAM,EAAE,UAAU,EAAC;4BACpB,EAAC,MAAM,EAAE,UAAU,EAAC;4BACpB,EAAC,MAAM,EAAE,UAAU,EAAC;4BACpB,EAAC,MAAM,EAAE,UAAU,EAAC;yBACvB;qBACJ;iBACJ,CAAC;YACF,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,qEAAiB,EAAC,mEAAe,EAAC,KAAI,CAAC,OAAO,CAAC;QACpE,CAAC,CAAC;IACV,CAAC;IAED,8CAAU,GAAV,UAAW,MAAM;QACb,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,uEAAe,EAAC,EAAC,MAAM,EAAC,MAAM,EAAC,CAAC;QAClE,KAAK,CAAC,OAAO,EAAE,CAAC;QAChB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IA/DQ,yBAAyB;QAJrC,wEAAS,CAAC;YACP,QAAQ,EAAE,oBAAoB;WACQ;SACzC,CAAC;mFAM2E;YAC5C,cAAc;OANlC,yBAAyB,CAiErC;IAAD,CAAC;AAAA;SAjEY,yBAAyB,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBa;AACyI;AAClI;AAGC;AACmB;AACjB;AAC5B;AACqC;AAGH;AACY;AACrB;AACW;AAOrE;IA0BI,6CAA6C;IAE7C,kBAAmB,OAAsB,EACtB,SAAoB,EACpB,EAAuB,EACvB,KAAqB,EACrB,WAAgC,EAChC,SAA4B,EAC5B,OAA0B,EAC1B,QAA0B,EAC1B,KAAsB,EACtB,KAAsB,EACtB,SAA+B,EAC/B,MAAyB,EACzB,QAAkB,EAClB,KAAoB,EACnB,YAA8B,EAC9B,QAAkB;QAftC,iBAmCC;QAnCkB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,OAAE,GAAF,EAAE,CAAqB;QACvB,UAAK,GAAL,KAAK,CAAgB;QACrB,gBAAW,GAAX,WAAW,CAAqB;QAChC,cAAS,GAAT,SAAS,CAAmB;QAC5B,YAAO,GAAP,OAAO,CAAmB;QAC1B,aAAQ,GAAR,QAAQ,CAAkB;QAC1B,UAAK,GAAL,KAAK,CAAiB;QACtB,UAAK,GAAL,KAAK,CAAiB;QACtB,cAAS,GAAT,SAAS,CAAsB;QAC/B,WAAM,GAAN,MAAM,CAAmB;QACzB,aAAQ,GAAR,QAAQ,CAAU;QAClB,UAAK,GAAL,KAAK,CAAe;QACnB,iBAAY,GAAZ,YAAY,CAAkB;QAC9B,aAAQ,GAAR,QAAQ,CAAU;QAlCtC,aAAQ,GAAmB,EAAE,CAAC;QAC9B,YAAO,GAAQ,wDAAO,CAAC;QACvB,cAAS,GAAU,EAAE,CAAC;QACtB,uBAAkB,GAAG,KAAK,CAAC;QAI3B,mBAAc,GAAQ,oCAAM,CAAC;QAE7B,UAAK,GAAU,EAAE,CAAC;QAClB,YAAO,GAAU,EAAE,CAAC;QA0BhB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;QAChC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QACtB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;YAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;QAEvD;;;WAGG;QACH,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACvB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QAErB,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC;YAEnC,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBAC5B,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,UAAU,IAAI,iEAAa,CAAC;oBAAC,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC;gBAC5E,IAAI;oBAAC,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC;YAC5C,CAAC;YAAC,IAAI;gBAAC,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QAC9B,CAAC,CAAC;IACN,CAAC;IAED,iCAAc,GAAd;QAAA,iBAgCC;QA9BG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,CAAE,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,2BAA2B,EAAC,KAAK,CAAC,EAA9D,CAA8D,CAAC,CAAC;QACvG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC/C,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAE9D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC;iBAChE,SAAS,CAAE,+BAAqB;gBAC7B,IAAI,QAAQ,GAAG,qBAAqB,CAAC,OAAO,CAAC,GAAG,EAAE;gBAClD,QAAQ,CAAC,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC;gBAC5B,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;gBACzB,IAAI,UAAU,GAAe,EAAE,CAAC;wCACvB,GAAG;oBACR,gBAAgB;oBAChB,KAAI,CAAC,WAAW,CAAC,eAAe,CAAC,GAAG,CAAC;yBAChC,SAAS,CAAE,2BAAiB;wBACzB,IAAI,QAAQ,GAAG,iBAAiB,CAAC,OAAO,CAAC,GAAG,EAAE;wBAC9C,QAAQ,CAAC,EAAE,GAAG,GAAG,CAAC;wBAClB,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;wBACrB,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,KAAI,CAAC,QAAQ,CAAC,UAAU,EAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;4BACxD,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC;wBAC7B,CAAC;oBACL,CAAC,EAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,8EAA8E,EAAC,KAAK,CAAC,EAAjH,CAAiH,CAAC;gBACrI,CAAC;gBAXD,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,QAAQ,CAAC,UAAU,CAAC;4BAA3B,GAAG;iBAWX;gBACD,KAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,UAAU,CAAC;gBACtC,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC;YACvC,CAAC,EAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,4DAA4D,EAAC,KAAK,CAAC,EAA/F,CAA+F,CAAC;QACnH,CAAC;QAAC,IAAI;YAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC;QAC1C,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;QAC1E,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QAClE,IAAI,CAAC,cAAc,EAAE;IACzB,CAAC;IAGD,4BAAS,GAAT,UAAU,KAAS,EAAC,MAAM;QACtB,IAAI,KAAK,GAAG,KAAK,CAAC;QAClB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;YACnC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,MAAM,CAAC;gBAAC,KAAK,GAAG,IAAI,CAAC;QAC7C,CAAC;QACD,MAAM,CAAC,KAAK;IAChB,CAAC;IAED,8BAAW,GAAX,UAAY,KAAY,EAAC,QAAgB;QAAzC,iBAYC;QAXG,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;YAC5B,OAAO,EAAE,SAAS;YAClB,OAAO,EAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,CAAC;SAAC,CAAC,CAAC;QACvD,MAAM,CAAC,OAAO,EAAE,CAAC;QACjB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,CAAC,KAAK,CAAC;aACnD,SAAS,CAAE,kBAAQ;YAChB,KAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC;YAC/B,MAAM,CAAC,OAAO,EAAE;QACpB,CAAC,EAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,iDAAiD,EAAC,KAAK,CAAC,EAApF,CAAoF,CAAC,CAAC;IACzG,CAAC;IAED,kCAAe,GAAf,UAAgB,SAAmB;QAAnC,iBAQC;QAPG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC,OAAO,CAAC;aAChE,SAAS,CAAE,kBAAQ;YAChB,KAAI,CAAC,KAAK,IAAI,KAAI,CAAC,OAAO,CAAC;YAC3B,KAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC;YAC/B,SAAS,CAAC,QAAQ,EAAE;QACxB,CAAC,EAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,qDAAqD,EAAC,KAAK,CAAC,EAAxF,CAAwF,CAAC;IAE5G,CAAC;IAED,mCAAgB,GAAhB,UAAiB,QAAQ;QAAzB,iBAiDC;QAhDG,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,QAAQ,CAAC,CAAC,CAAC;YACvB,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YACtC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;QAE5C,CAAC;QACD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAEzB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAE,iBAAO;YAEtB,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,EAAC;gBAEhB,qEAAqE;gBACrE,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,YAAY,KAAK,CAAC,CAAC,EAAC;oBACtE,IAAI,GAAG,GAAe,EAAE,CAAC;oBACzB,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,EAAC;wBACpC,GAAG,CAAC,IAAI,CAAC,EAAC,EAAE,EAAC,GAAG,EAAC,KAAK,EAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,EAAC,CAAC;oBACxD,CAAC;oBACD,OAAO,CAAC,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;gBACjC,CAAC;gBACD,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,YAAY,KAAK,CAAC,CAAC,EAAC;oBACtE,IAAI,GAAG,GAAe,EAAE,CAAC;oBACzB,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,EAAC;wBACpC,GAAG,CAAC,IAAI,CAAC,EAAC,EAAE,EAAC,GAAG,EAAC,KAAK,EAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,EAAC,CAAC;oBACxD,CAAC;oBACD,OAAO,CAAC,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC;gBACjC,CAAC;gBACD,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,IAAI,uEAAmB,CAAC,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,cAAc,IAAI,gEAAY,CAAC,GAAG,CAAC,CAAC,CAAC;oBAChH,qCAAqC;oBACrC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACnD,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,EAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;oBACxG,CAAC;gBACL,CAAC;gBACD,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,IAAI,oEAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;oBACxD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACnD,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,KAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;oBAC7G,CAAC;gBACL,CAAC;gBACD,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,IAAI,uEAAmB,CAAC,GAAG,CAAC,CAAC,CAAC;oBAC3D,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACnD,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,GAAG,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;oBAClH,CAAC;gBACL,CAAC;gBACD,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,cAAc,IAAI,oEAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;oBACxD,OAAO,CAAC,MAAM,CAAC,UAAU,GAAG,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;gBACxE,CAAC;YACL,CAAC;QACL,CAAC,CAAC;IAEN,CAAC;IAED,6BAAU,GAAV,UAAW,MAAa,EAAC,OAAW;QAApC,iBAUC;QATG,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,OAAO,CAAC,GAAG,CAAE,gBAAM;YACf,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAC;gBAC3B,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,EAAC;oBAC1B,EAAE,CAAC,CAAC,MAAM,IAAI,GAAG,CAAC;wBAAC,OAAO,GAAG,IAAI,CAAC;gBACtC,CAAC;YACL,CAAC;QACL,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAED,kCAAe,GAAf,UAAgB,MAAa,EAAC,OAAW;QAAzC,iBAQC;QAPG,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,OAAO,CAAC,GAAG,CAAE,gBAAM;YACf,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAC;gBAC3B,EAAE,CAAC,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC;oBAAC,OAAO,GAAG,IAAI,CAAC;YAC/C,CAAC;QACL,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAED,8BAAW,GAAX,UAAY,OAAW;QAAvB,iBAMC;QALG,IAAI,UAAkB,CAAC;QACvB,OAAO,CAAC,GAAG,CAAC,gBAAM;YACd,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBAAC,UAAU,GAAG,MAAM,CAAC,KAAK;QAC5D,CAAC,CAAC;QACF,MAAM,CAAC,UAAU,CAAC;IACtB,CAAC;IAED,2BAAQ,GAAR,UAAS,KAAY,EAAC,OAAW;QAAjC,iBAUC;QATG,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,OAAO,CAAC,GAAG,CAAC,gBAAM;YACd,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAC;gBAC3B,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,EAAC;oBAC1B,EAAE,CAAC,CAAC,KAAK,IAAI,GAAG,CAAC;wBAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;gBAC/C,CAAC;YACL,CAAC;QACL,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IAGD,kCAAe,GAAf,UAAgB,MAAa;QACzB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,cAAI;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC;gBAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;QACpD,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,oCAAiB,GAAjB;QACI,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC;QACnD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;QACjC,CAAC;QACD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QACtB,IAAI,CAAC,cAAc,EAAE,CAAC;IAC1B,CAAC;IAED,0BAAO,GAAP;QAAA,iBAwBC;QAtBG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YAAC,MAAM,CAAC;QAEnC,IAAI,MAAM,GAAY;YAClB,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;YACpB,SAAS,EAAE,IAAI,CAAC,GAAG,EAAE;YACrB,OAAO,EAAE,IAAI,CAAC,SAAS;YACvB,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ;YACpC,MAAM,EAAE,EAAE;SACb,CAAC;QAEF,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QAEpB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC;YAC3B,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;QACjC,CAAC;QAED,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,MAAM,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,oEAAgB,EAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;aACjG,IAAI,CAAC,UAAC,MAAM;YACb,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;YACf,oBAAoB;YACpB,KAAI,CAAC,UAAU,EAAE,CAAC;QACtB,CAAC,EAAC,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAAC;IACtC,CAAC;IAED,6BAAU,GAAV;QACI,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAM,OAAO,GAAK,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACxD,IAAM,QAAQ,GAAI,OAAO,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9D,OAAO,CAAC,KAAK,CAAC,MAAM,GAAQ,EAAE,GAAG,IAAI,CAAC;QACtC,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAI,EAAE,GAAG,IAAI,CAAC;QACtC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAO,EAAE,GAAG,IAAI,CAAC;QACtC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;IAE1B,CAAC;IAED,wBAAK,GAAL;QACI,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;QAChC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QACtB,wBAAwB;IAC5B,CAAC;IAED,yBAAM,GAAN;QACI,eAAe;QACf,IAAM,OAAO,GAAK,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACxD,IAAM,QAAQ,GAAI,OAAO,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9D,iCAAiC;QAEjC,4CAA4C;QAC5C,IAAI,aAAa,GAAG,QAAQ,CAAC,YAAY,CAAC;QAC1C,EAAE,EAAC,aAAa,GAAG,EAAE,CAAC;YAClB,aAAa,GAAG,EAAE,CAAC;QAEvB,kBAAkB;QAClB,OAAO,CAAC,KAAK,CAAC,MAAM,GAAQ,IAAI,CAAC,GAAG,CAAC,aAAa,EAAC,EAAE,CAAC,GAAG,IAAI,CAAC;QAC9D,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAI,IAAI,CAAC,GAAG,CAAC,aAAa,EAAC,EAAE,CAAC,GAAG,IAAI,CAAC;QAC9D,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAO,IAAI,CAAC,GAAG,CAAC,aAAa,EAAC,EAAE,CAAC,GAAG,IAAI,CAAC;QAC9D,IAAI,CAAC,UAAU,GAAM,IAAI,CAAC,GAAG,CAAC,aAAa,GAAC,EAAE,EAAC,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;IAC1B,CAAC;IAED,iCAAc,GAAd;QAAA,iBAMC;QALG,UAAU,CAAC;YACP,EAAE,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC;gBAC9B,KAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;YAClC,CAAC;QACL,CAAC,EAAE,GAAG,CAAC;IACX,CAAC;IAED,mCAAgB,GAAhB,UAAiB,KAAK;QAClB,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;QAC3D,OAAO,CAAC,OAAO,CAAC,EAAC,EAAE,EAAC,KAAK,EAAC,CAAC,CAAC;IAChC,CAAC;IAED,2BAAQ,GAAR,UAAS,KAAK;QAAd,iBA2BC;QA1BG,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,YAAY,CAAC,GAAC,oCAAM,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,EAAC,CAAC,CAAC;QAC5H,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,IAAI,CAAC,CAAC,EAAC;YACtC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,IAAI,CAAC,UAAU,EAAE,EAAC,IAAI,CAAC;iBACtD,IAAI,CAAC,cAAM,YAAK,CAAC,OAAO,EAAE,EAAf,CAAe,EACnB,eAAK;gBACD,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,0DAA0D,EAAC,KAAK,CAAC;YAA7F,CAA6F,CAAC;QAElH,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,WAAgB,CAAC;YACrB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAE,cAAI;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC;oBAAC,WAAS,GAAG,IAAI,CAAC,EAAE,CAAC;YACrD,CAAC,CAAC,CAAC;YACH;;;;;;gBAMI;YACJ,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,WAAS,EAAC,IAAI,CAAC;iBAC9C,IAAI,CAAC,IAAI,EACF,eAAK;gBACD,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,yDAAyD,EAAC,KAAK,CAAC;YAA5F,CAA4F,CAAC;QAEjH,CAAC;IAEL,CAAC;IAED,8BAAW,GAAX,UAAY,KAAK;QAAjB,iBAqBC;QApBG,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;YAEvC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,EAAC,QAAQ,EAAC,IAAI,CAAC,QAAQ,EAAC,CAAC,CAAC;QAC9H,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,qGAAqG;YACrG,IAAI,WAAgB,CAAC;YACrB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAE,cAAI;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC;oBAAC,WAAS,GAAG,IAAI,CAAC,EAAE,CAAC;YACrD,CAAC,CAAC,CAAC;YACH;;;;;;gBAMI;YACJ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,EAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,WAAS,CAAC,EAAC,QAAQ,EAAC,IAAI,CAAC,QAAQ,EAAC,CAAC,CAAC;QAEtH,CAAC;IAEL,CAAC;IAED,6BAAU,GAAV;QAAA,iBAMC;QALG,IAAI,EAAS,CAAC;QACd,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAE,cAAI;YAC9B,EAAE,CAAC,CAAC,KAAI,CAAC,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,CAAC;gBAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;QAC9C,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,EAAE,CAAC;IACd,CAAC;IAED,8BAAW,GAAX,UAAY,EAAS;QACjB,IAAI,QAAmB,CAAC;QACxB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAE,cAAI;YAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,CAAC;gBAAC,QAAQ,GAAG,IAAI,CAAC;QACxC,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,sCAAmB,GAAnB,UAAoB,OAAW;QAC3B,IAAI,cAAc,GAAG,CAAC,CAAC,CAAC;QACxB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;YAC3C,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,KAAK,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBAAC,cAAc,GAAG,CAAC,CAAC;QAC/D,CAAC;QACD,EAAE,CAAC,CAAC,cAAc,IAAI,CAAC,CAAC,CAAC;YAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACtD,IAAI;YAAC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,OAAO;IAChD,CAAC;IAxYoB;QAApB,yEAAS,CAAC,QAAQ,CAAC;kCAAS,6DAAM;4CAAC;IAChB;QAAnB,yEAAS,CAAC,8DAAO,CAAC;kCAAU,8DAAO;6CAAC;IACZ;QAAxB,yEAAS,CAAC,YAAY,CAAC;kCAAe,gEAAS;kDAAC;IAJxC,QAAQ;QAJpB,wEAAS,CAAC;YACP,QAAQ,EAAE,WAAW;WACG;SAC3B,CAAC;6EA6B2C;YACX,kFAAS;YAChB,sFAAmB;YAChB,iGAAc;YACR,0FAAmB;YACrB,wEAAiB;YACnB,uFAAiB;YAChB,uEAAgB;YACnB,sEAAe;YACf,kGAAe;YACX,yEAAoB;YACvB,gEAAiB;YACf,8EAAQ;YACX,yFAAa;YACL,iEAAgB;YACpB,KAAQ;OA3C7B,QAAQ,CA2YpB;IAAD,CAAC;AAAA;SA3YY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBkB;AACiB;AACS;AACQ;AACR;AACW;AACS;AACvB;AACd;AACkC;AACd;AACN;AACpB;AAiC1C;IAAA;IAA+B,CAAC;IAAnB,gBAAgB;QA/B5B,uEAAQ,CAAC;YACN,YAAY,EAAC;gBACT,+EAAiB;gBACjB,wFAAoB;gBACpB,gGAAsB;gBACtB,wFAAoB;gBACpB,mGAAuB;gBACvB,4GAA0B;gBAC1B,qFAAmB;gBACnB,uEAAe;gBACf,yGAAyB;gBACzB,4FAAqB;gBACrB,sFAAmB;aACtB;YACD,OAAO,EAAC,CAAC,mEAAW,CAAC;YACrB,OAAO,EAAE;gBACL,+EAAiB;gBACjB,wFAAoB;gBACpB,gGAAsB;gBACtB,wFAAoB;gBACpB,mGAAuB;gBACvB,4GAA0B;gBAC1B,qFAAmB;gBACnB,uEAAe;gBACf,yGAAyB;gBACzB,4FAAqB;gBACrB,sFAAmB;aAEtB;SACJ,CAAC;OAEW,gBAAgB,CAAG;IAAD,uBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7CkB;AACI;AACI;AACF;AAC0B;AAClB;AACF;AACU;AAQrE;IAOI,2BAAmB,SAA+B,EAC/B,MAAsB,EACrB,YAA8B;QAF/B,cAAS,GAAT,SAAS,CAAsB;QAC/B,WAAM,GAAN,MAAM,CAAgB;QACrB,iBAAY,GAAZ,YAAY,CAAkB;QALlD,YAAO,GAAO,wDAAO,CAAC;IAMtB,CAAC;IAED,oCAAQ,GAAR;QACI,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED,2CAAe,GAAf,UAAgB,MAAa;QACzB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,cAAI;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC;gBAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;QACpD,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,sCAAU,GAAV,UAAW,OAAO,EAAC,GAAG;QAClB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,OAAO,EAAC,QAAO,EAAC,KAAI,CAAC;QAC1C,IAAI,CAAC,UAAU,EAAE;IACrB,CAAC;IAED,sCAAU,GAAV;QAAA,iBAIC;QAHG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;aAC9E,KAAK,CAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,+BAA+B,EAAC,KAAK,CAAC,EAAlE,CAAkE,CAAC;IAE3F,CAAC;IACD,yCAAa,GAAb,UAAc,MAAM;QAApB,iBAQC;QAPG,IAAI,UAAU,GAAO,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAM;YAClC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACT,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,MAAM,CAAC;oBAAC,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC;YACvD,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBAAC,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC;QACpE,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,UAAU;IACrB,CAAC;IAxCQ;QAAR,oEAAK,EAAE;kCAAU,sEAAO;sDAAC;IACjB;QAAR,oEAAK,EAAE;kCAAO,0EAAS;mDAAC;IAEhB;QAAR,oEAAK,EAAE;kCAAW,wEAAQ;uDAAC;IALnB,iBAAiB;QAJ7B,wEAAS,CAAC;YACT,QAAQ,EAAE,WAAW;WACQ;SAC9B,CAAC;6FAQoD;YACvB,wFAAc;YACP,cAAgB;OATzC,iBAAiB,CA2C7B;IAAD,CAAC;AAAA;SA3CY,iBAAiB,W;;;;;;;;;;;;;;;;;;;;;;ACfsB;AACM;AACa;AAGhE,IAAM,2BAA2B,GAAQ;IAC5C,OAAO,EAAE,yEAAiB;IAC1B,WAAW,EAAE,2EAAU,CAAC,cAAM,2BAAoB,EAApB,CAAoB,CAAC;IACnD,KAAK,EAAE,IAAI;CACd,CAAC;AAOF;IAQI,8BAAY,aAA4B;QANxC,aAAQ,GAAG,EAAE,CAAC;QAOV,IAAI,CAAC,QAAQ,GAAG,aAAa,CAAC,SAAS,EAAE,CAAC;IAC9C,CAAC;IAGD,yCAAU,GAAV,UAAW,GAAQ;QACf,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;IACxB,CAAC;IAED,+CAAgB,GAAhB,UAAiB,EAAO;QACpB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;IAED,gDAAiB,GAAjB,UAAkB,EAAO;QACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACzB,CAAC;IAEO,uCAAQ,GAAhB,UAAiB,GAAQ;QACrB,IAAI,CAAC,QAAQ,IAAI,GAAG,CAAC;QACrB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC;QAClC,CAAC;IACL,CAAC;IA/BQ,oBAAoB;QALhC,wEAAS,CAAC;YACP,QAAQ,EAAE,cAAc;YACxB,SAAS,EAAE,CAAC,2BAA2B,CAAC;WACN;SACrC,CAAC;6BAS0C;OAR/B,oBAAoB,CAgChC;IAAD,CAAC;AAAA;SAhCY,oBAAoB,W;;;;;;;;;;;;;;;;;;;;;;;;;AChBsB;AACJ;AACI;AACI;AACN;AACQ;AACQ;AAOrE;IAOI,gCAAmB,MAAsB,EACrB,YAA8B;QAD/B,WAAM,GAAN,MAAM,CAAgB;QACrB,iBAAY,GAAZ,YAAY,CAAkB;QAJlD,YAAO,GAAO,wDAAO,CAAC;IAKtB,CAAC;IAED,yCAAQ,GAAR;QACI,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,2CAAU,GAAV;QAAA,iBAIC;QAHG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;aAC5E,KAAK,CAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,8BAA8B,EAAC,KAAK,CAAC,EAAjE,CAAiE,CAAC,CAAC;QACvF,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,gDAAe,GAAf,UAAgB,MAAa;QACzB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,cAAI;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC;gBAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;QACpD,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,8CAAa,GAAb;QAAA,iBAIC;QAHG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAE,gBAAM;YACnC,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBAAC,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;QAC9D,CAAC,CAAC;IACN,CAAC;IA/BQ;QAAR,oEAAK,EAAE;kCAAU,sEAAO;2DAAC;IACjB;QAAR,oEAAK,EAAE;kCAAO,0EAAS;wDAAC;IAEhB;QAAR,oEAAK,EAAE;kCAAW,wEAAQ;4DAAC;IALnB,sBAAsB;QAJlC,wEAAS,CAAC;YACP,QAAQ,EAAE,iBAAiB;WACQ;SACtC,CAAC;sGAQ2C;YACP,gBAAgB;OARzC,sBAAsB,CAmClC;IAAD,CAAC;AAAA;SAnCY,sBAAsB,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;ACboB;AACJ;AACI;AACI;AACN;AAC0B;AAClB;AACf;AACuB;AAMrE;IAOI,8BAAmB,MAAsB,EACtB,KAAsB,EACtB,SAA+B,EAC9B,YAA8B;QAH/B,WAAM,GAAN,MAAM,CAAgB;QACtB,UAAK,GAAL,KAAK,CAAiB;QACtB,cAAS,GAAT,SAAS,CAAsB;QAC9B,iBAAY,GAAZ,YAAY,CAAkB;QANlD,YAAO,GAAO,wDAAO,CAAC;IAQtB,CAAC;IAED,uCAAQ,GAAR;QACI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC1B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IACxB,CAAC;IAED,yCAAU,GAAV,UAAW,KAAK,EAAC,MAAM;QAAvB,iBAuBC;QArBG,IAAI,MAAM,GAAG,EAAE;QACf,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;QACjC,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE;QACrC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC;YACzB,MAAM,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC;QACjC,CAAC;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAEvC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC;gBACzD,IAAI,OAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,EAAC,CAAC,CAAC;gBAC/H,OAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC;YACD,IAAI;gBAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,GAAC,CAAC,CAAC;QAC5D,CAAC;QACD,IAAI,CAAC,CAAC;YACF,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YAC1D,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAC1B,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;aACvE,KAAK,CAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,4BAA4B,EAAC,KAAK,CAAC,EAA/D,CAA+D,CAAC,CAAC;IACzF,CAAC;IAED,4CAAa,GAAb;QACI,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAEtC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,UAAU,CAAC,EAAC;YACxB,EAAE,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAAC,UAAU,EAAE,CAAC;QAC1C,CAAC;QACD,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IAED,8CAAe,GAAf,UAAgB,MAAU;QACtB,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,EAAC;YACpB,EAAE,CAAC,CAAE,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;gBAAC,KAAK,GAAI,MAAM,CAAC,GAAG,CAAC;QAClD,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACD,gDAAiB,GAAjB,UAAkB,MAAU,EAAC,QAAe;QACxC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC;YACrB,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;gBAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC;QACD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,4CAAa,GAAb;QAAA,iBAMC;QALG,IAAI,UAAU,GAAO,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAM;YAClC,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBAAC,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC;QAC7D,CAAC,CAAC;QACF,MAAM,CAAC,UAAU;IACrB,CAAC;IAGD,8CAAe,GAAf,UAAgB,MAAa;QACzB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,cAAI;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC;gBAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;QACpD,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAlFQ;QAAR,oEAAK,EAAE;kCAAU,sEAAO;yDAAC;IACjB;QAAR,oEAAK,EAAE;kCAAO,0EAAS;sDAAC;IAEhB;QAAR,oEAAK,EAAE;kCAAW,wEAAQ;0DAAC;IALnB,oBAAoB;QAJhC,wEAAS,CAAC;YACP,QAAQ,EAAE,cAAc;WACQ;SACnC,CAAC;mFAQ2C;YACf,kGAAe;YACX,0FAAoB;YAChB,gBAAgB;OAVzC,oBAAoB,CAwFhC;IAAD,CAAC;AAAA;SAxFY,oBAAoB,W;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdiC;AACf;AACI;AACI;AACoB;AAClB;AACR;AACE;AACc;AAOrE;IAcI,iCAAmB,SAA+B,EAC/B,MAAsB,EACtB,KAAsB,EACrB,YAA8B;QAH/B,cAAS,GAAT,SAAS,CAAsB;QAC/B,WAAM,GAAN,MAAM,CAAgB;QACtB,UAAK,GAAL,KAAK,CAAiB;QACrB,iBAAY,GAAZ,YAAY,CAAkB;QATlD,YAAO,GAAO,wDAAO,CAAC;IAUtB,CAAC;IAED,0CAAQ,GAAR;QACI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;QAEzB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,WAAW,CAAC,GAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC;QAC1F,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QACrC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,UAAU,CAAC,GAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC;IAC/F,CAAC;IAED,6CAAW,GAAX,UAAY,KAAK;QACb,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;YACzE,KAAK,CAAC,cAAc,EAAE;QAC1B,CAAC;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;IAEzC,CAAC;IAED,gDAAc,GAAd;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;QAClC,MAAM,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,IAAI,QAAQ,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC;IACnI,CAAC;IAED,6CAAW,GAAX;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC;QAC9C,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACzD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,GAAG,QAAQ,CAAC;QAC1C,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,CAAC,IAAI,EAAE,CAAC;YAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,CAAC;QAChE,IAAI;YAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;IAChC,CAAC;IAED,iDAAe,GAAf,UAAgB,MAAa;QACzB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,cAAI;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC;gBAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;QACpD,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,4CAAU,GAAV;QAAA,iBAeC;QAdG,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;iBAClG,IAAI,CAAE;gBACH,IAAI,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC;oBAC1B,OAAO,EAAC,KAAI,CAAC,SAAS,CAAC,cAAc,CAAC,aAAa,CAAC;iBACvD,CAAC;gBACF,KAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC,CAAC;iBACD,KAAK,CAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,+BAA+B,EAAC,KAAK,CAAC,EAAlE,CAAkE,CAAI;QAC9F,CAAC;QACD,IAAI,CAAC,CAAC;YACF,IAAI,OAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,iBAAiB,CAAC,EAAC,CAAC;YACzF,OAAK,CAAC,OAAO,EAAE;QACnB,CAAC;IACL,CAAC;IAED,wCAAM,GAAN;QACI,eAAe;QACf,IAAM,OAAO,GAAK,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACrD,IAAM,QAAQ,GAAI,OAAO,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9D,iCAAiC;QAEjC,4CAA4C;QAC5C,IAAI,aAAa,GAAG,QAAQ,CAAC,YAAY,CAAC;QAC1C,EAAE,EAAC,aAAa,GAAG,EAAE,CAAC;YAClB,aAAa,GAAG,EAAE,CAAC;QAEvB,kBAAkB;QAClB,OAAO,CAAC,KAAK,CAAC,MAAM,GAAQ,IAAI,CAAC,GAAG,CAAC,aAAa,EAAC,EAAE,CAAC,GAAG,IAAI,CAAC;QAC9D,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAI,IAAI,CAAC,GAAG,CAAC,aAAa,EAAC,EAAE,CAAC,GAAG,IAAI,CAAC;QAC9D,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAO,IAAI,CAAC,GAAG,CAAC,aAAa,EAAC,EAAE,CAAC,GAAG,IAAI,CAAC;QAC9D,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;IAC1B,CAAC;IAxFQ;QAAR,oEAAK,EAAE;kCAAU,sEAAO;4DAAC;IACjB;QAAR,oEAAK,EAAE;kCAAO,0EAAS;yDAAC;IAChB;QAAR,oEAAK,EAAE;kCAAW,wEAAQ;6DAAC;IACR;QAAnB,yEAAS,CAAC,8DAAO,CAAC;kCAAU,8DAAO;4DAAC;IAN5B,uBAAuB;QAJnC,wEAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;WACQ;SACvC,CAAC;6FAeoD;YACvB,sEAAc;YACf,wFAAe;YACP,gBAAgB;OAjBzC,uBAAuB,CA4FnC;IAAD,CAAC;AAAA;SA5FY,uBAAuB,Y;;;;;;;;;;;;;;;;;;;;;;;;;;ACfmB;AACJ;AACI;AACI;AACN;AAC0B;AAClB;AACQ;AAOrE;IASI,oCAAmB,SAA+B,EAC/B,MAAsB,EACrB,YAA8B;QAF/B,cAAS,GAAT,SAAS,CAAsB;QAC/B,WAAM,GAAN,MAAM,CAAgB;QACrB,iBAAY,GAAZ,YAAY,CAAkB;QANlD,YAAO,GAAO,wDAAO,CAAC;IAOtB,CAAC;IAED,6CAAQ,GAAR;QACI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;IAC7B,CAAC;IAED,oDAAe,GAAf,UAAgB,MAAa;QACzB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,cAAI;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC;gBAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;QACpD,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,+CAAU,GAAV,UAAW,OAAO,EAAC,GAAG;QAClB,IAAI,CAAC,QAAQ,GAAG,OAAO,EAAC,IAAG,EAAC,KAAI,CAAC;QACjC,IAAI,CAAC,UAAU,EAAE;IACrB,CAAC;IAED,+CAAU,GAAV;QAAA,iBAGC;QAFG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;aAC9E,KAAK,CAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,kCAAkC,EAAC,KAAK,CAAC,EAArE,CAAqE,CAAC;IAC9F,CAAC;IA/BQ;QAAR,oEAAK,EAAE;kCAAU,sEAAO;+DAAC;IACjB;QAAR,oEAAK,EAAE;kCAAO,0EAAS;4DAAC;IAEhB;QAAR,oEAAK,EAAE;kCAAW,wEAAQ;gEAAC;IANnB,0BAA0B;QAJtC,wEAAS,CAAC;YACP,QAAQ,EAAE,qBAAqB;WACQ;SAC1C,CAAC;6FAUoD;YACvB,wFAAc;YACP,gBAAgB;OAXzC,0BAA0B,CAqCtC;IAAD,CAAC;AAAA;SArCY,0BAA0B,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdQ;AACI;AACI;AACI;AACN;AACQ;AACf;AACiC;AACV;AAOrE;IAOI,6BAAmB,MAAsB,EACtB,KAAsB,EACtB,SAA+B,EAC9B,YAA8B;QAH/B,WAAM,GAAN,MAAM,CAAgB;QACtB,UAAK,GAAL,KAAK,CAAiB;QACtB,cAAS,GAAT,SAAS,CAAsB;QAC9B,iBAAY,GAAZ,YAAY,CAAkB;QANlD,YAAO,GAAO,wDAAO,CAAC;IAQtB,CAAC;IAED,sCAAQ,GAAR;QACI,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;IACxB,CAAC;IAED,wCAAU,GAAV,UAAW,KAAK,EAAC,MAAM;QAAvB,iBAuBC;QArBG,IAAI,MAAM,GAAG,EAAE;QACf,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC;QACjC,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE;QACrC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,UAAU,CAAC,CAAC,CAAC;YACzB,MAAM,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC;QACjC,CAAC;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAEvC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACzB,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC;gBACzD,IAAI,OAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,EAAC,CAAC,CAAC;gBAC/H,OAAK,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC;YACD,IAAI;gBAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,GAAC,CAAC,CAAC;QAC5D,CAAC;QACD,IAAI,CAAC,CAAC;YACF,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YAC1D,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;QAC1B,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,EAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;aACvE,KAAK,CAAC,eAAK,IAAI,YAAI,CAAC,YAAY,CAAC,SAAS,CAAC,2BAA2B,EAAC,KAAK,CAAC,EAA9D,CAA8D,CAAC,CAAC;IACxF,CAAC;IAED,2CAAa,GAAb;QACI,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,IAAI,UAAU,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QAEtC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,UAAU,CAAC,EAAC;YACxB,EAAE,CAAC,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBAAC,UAAU,EAAE,CAAC;QAC1C,CAAC;QACD,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC;IAC3B,CAAC;IAED,6CAAe,GAAf,UAAgB,MAAU;QACtB,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,EAAC;YACpB,EAAE,CAAC,CAAE,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;gBAAC,KAAK,GAAI,MAAM,CAAC,GAAG,CAAC;QAClD,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IACD,+CAAiB,GAAjB,UAAkB,MAAU,EAAC,QAAe;QACxC,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC;YACrB,EAAE,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;gBAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC;QACD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,2CAAa,GAAb;QAAA,iBAMC;QALG,IAAI,UAAU,GAAO,EAAE,CAAC;QACxB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAM;YAClC,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC;gBAAC,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC;QAC7D,CAAC,CAAC;QACF,MAAM,CAAC,UAAU;IACrB,CAAC;IAGD,6CAAe,GAAf,UAAgB,MAAa;QACzB,IAAI,QAAQ,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,cAAI;YAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC;gBAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ;QACpD,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAjFQ;QAAR,oEAAK,EAAE;kCAAU,sEAAO;wDAAC;IACjB;QAAR,oEAAK,EAAE;kCAAO,0EAAS;qDAAC;IAEhB;QAAR,oEAAK,EAAE;kCAAW,wEAAQ;yDAAC;IALnB,mBAAmB;QAJ/B,wEAAS,CAAC;YACP,QAAQ,EAAE,aAAa;WACQ;SAClC,CAAC;mFAQ2C;YACf,kGAAe;YACX,0FAAoB;YAChB,gBAAgB;OAVzC,mBAAmB,CAoF/B;IAAD,CAAC;AAAA;SApFY,mBAAmB,W;;;;;;;;;;;;;;;;;;;;;;ACfU;AACuC;AACE;AAClC;AAOjD;IAII,+BAAmB,OAA0B,EAAQ,KAAsB,EACxD,QAAwB;QADxB,YAAO,GAAP,OAAO,CAAmB;QAAQ,UAAK,GAAL,KAAK,CAAiB;QACxD,aAAQ,GAAR,QAAQ,CAAgB;IAE3C,CAAC;IAED,yCAAS,GAAT;QACI,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,uEAAe,CAAC,CAAC;QAC/C,KAAK,CAAC,OAAO,EAAE,CAAC;QAChB,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAED,0CAAU,GAAV,UAAW,KAAK;QAAhB,iBAIC;QAHG,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,yGAAyB,CAAC,CAAC;QAC7D,OAAO,CAAC,OAAO,CAAC,EAAC,EAAE,EAAC,KAAK,EAAC,CAAC;QAC3B,OAAO,CAAC,YAAY,CAAC,cAAK,YAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,EAAvB,CAAuB,CAAC;IACtD,CAAC;IAnBQ,qBAAqB;QAJjC,wEAAS,CAAC;YACP,QAAQ,EAAE,eAAe;WACQ;SACpC,CAAC;mFAK6E;YAC9C,cAAc;OALlC,qBAAqB,CAqBjC;IAAD,CAAC;AAAA;SArBY,qBAAqB,W;;;;;;;;;;;;;;;;;;;;;;ACVQ;AACgB;AAEK;AACJ;AAM3D;IAKI,6BAAmB,SAAoB,EACpB,QAAwB,EACxB,KAAqB;QAFxC,iBASC;QATkB,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,UAAK,GAAL,KAAK,CAAgB;QAHxC,WAAM,GAAQ,wDAAO,CAAC;QAIlB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;QACvB,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,qEAAiB,EAAC,oEAAgB,CAAC;aAC/C,IAAI,CAAE,cAAI;YACP,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACrB,CAAC,CAAC;IACV,CAAC;IAED,wCAAU,GAAV,UAAW,IAAI;QACX,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC,MAAM,EAAC,IAAI,CAAC,EAAE,EAAC,CAAC;IAC3C,CAAC;IAlBQ,mBAAmB;QAJ/B,wEAAS,CAAC;YACP,QAAQ,EAAE,aAAa;WACQ;SAClC,CAAC;kFAMyC;YACV,qFAAc;YACjB,cAAc;OAP/B,mBAAmB,CAoB/B;IAAD,CAAC;AAAA;SApBY,mBAAmB,W","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChatPage } from './chat';\nimport { EmojiProvider } from \"../../providers/emoji/emoji\";\nimport { ChatServiceProvider } from \"../../providers/chat-service/chat-service\";\nimport { ComponentsModule } from \"../../components/components.module\";\nimport { CommonModule } from \"@angular/common\";\n\n@NgModule({\n    declarations: [\n        ChatPage,\n    ],\n    imports: [\n        IonicPageModule.forChild(ChatPage),\n        ComponentsModule,\n        CommonModule\n    ],\n    exports: [\n        ChatPage\n    ],\n    providers:[\n        ChatServiceProvider,\n        EmojiProvider\n    ]\n})\nexport class ChatPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.module.ts","export class Message {\n    id?:string;\n    constructor(\n        public message:string,\n        public sender: string,\n        public timestamp: number,\n        public typeOfMessage: string,\n        public survey: any\n    ){}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/message.model.ts","export class FlikeUser {\n    constructor(\n        public id:string,\n        public firstname: string,\n        public fullname:string,\n        public lastname:string,\n        public typeOfUser: string,\n        public email: string,\n        public optIns: any,\n        public legalStatement:string\n    ){\n\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/flikeUser.model.ts","export class ChatRoom {\n    public lastMessage?: any;\n\n    constructor(public id:string,\n                public name?: string,\n                public chatroomImgUrl?:string,\n                public indicator?:string,\n                public userAccess?: Array<any>,\n                public userMessageTimestamps?:Array<any>\n    ){}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/chatroom.model.ts","import { Component } from '@angular/core';\nimport {Survey} from \"./survey.model\";\nimport * as globals from '../../providers/globals/globals'\nimport {AlertController, NavParams, ViewController} from \"ionic-angular\";\nimport {AppPreferences} from \"@ionic-native/app-preferences\";\n\n@Component({\n    selector: 'survey',\n    templateUrl: 'survey.html'\n})\nexport class SurveyComponent {\n\n    survey: Survey;\n    globals: any = globals;\n    surveys:Array<Survey>;\n\n    constructor(public viewCtrl: ViewController,\n                public navParams: NavParams,\n                public prefs: AppPreferences,\n                public alert: AlertController\n\n    ) {\n        this.survey = navParams.get(\"survey\") || {id: globals.stringGen(),question : \"\",typeQuestion: \"\",options: {},answers: {}}\n        console.log(this.survey)\n    }\n\n    sendSurvey(){\n        console.log(this.survey)\n        this.viewCtrl.dismiss({survey:this.survey})\n    }\n    saveSurvey(ev){\n        ev.preventDefault()\n        console.log(this.survey)\n        this.prefs.fetch(globals.userPrefs,globals.surveys)\n            .then( surveys => {\n                if (!surveys) this.surveys = [];\n                else this.surveys = surveys;\n                this.pushOrUpdate(this.survey)\n                this.prefs.store(globals.userPrefs,globals.surveys,this.surveys)\n                    .then( () => {\n                        let alert = this.alert.create({subTitle:\"Survey saved\"})\n                        alert.present()\n                    })\n            })\n\n    }\n    cancel(){\n        this.viewCtrl.dismiss()\n    }\n    addOption(event,type:string){\n        event.preventDefault()\n\n        switch (type){\n            case globals.checkBox.key:\n                if (!this.survey.options.checkbox) this.survey.options.checkbox = []\n                this.survey.options.checkBox.push({})\n                break;\n            case globals.radioButton.key:\n                if (!this.survey.options.radioButton) this.survey.options.radioButton = []\n                this.survey.options.radioButton.push({})\n                break;\n            case globals.rank.key:\n                if (!this.survey.options.rank) this.survey.options.rank = []\n                this.survey.options.rank.push({option:\"\"})\n                break;\n        }\n        console.log(this.survey)\n\n    }\n\n    deleteSurvey(){\n        let alert = this.alert.create({title:\"Are you sure?\",buttons:[\n            {text:\"Yes\",\n                handler:()=>{console.log(\"yes\")}},\n            {text:\"No\",\n                handler:()=>{console.log(\"NO\")}}\n        ]})\n        alert.present()\n        //todo need a key for deleting the survey\n    }\n\n    pushOrUpdate(survey:Survey){\n        let indexOfSurvey = -1;\n        for (let i = 0; i < this.surveys.length; i++){\n            if (survey.id === this.surveys[i].id) indexOfSurvey = i;\n        }\n        if (indexOfSurvey != -1) this.surveys[indexOfSurvey] = survey;\n        else this.surveys.push(survey)\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/survey/survey.ts","import {Component, OnInit} from '@angular/core';\nimport {Survey} from \"../survey/survey.model\";\nimport * as globals from '../../providers/globals/globals'\nimport {ModalController, ViewController} from \"ionic-angular\";\nimport {SurveyComponent} from \"../survey/survey\";\nimport {AppPreferences} from \"@ionic-native/app-preferences\";\n/**\n * Generated class for the SurveyPickSurveyComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n    selector: 'survey-pick-survey',\n    templateUrl: 'survey-pick-survey.html'\n})\nexport class SurveyPickSurveyComponent implements OnInit{\n\n    text: string;\n    surveys:Array<Survey> = []\n\n    constructor(public modalCtrl: ModalController,public prefs:AppPreferences,\n                public viewCtrl: ViewController) {  }\n\n    ngOnInit(){\n        this.prefs.fetch(globals.userPrefs,globals.surveys)\n            .then( surveys => {\n                this.surveys = surveys || [{\n                    id: globals.stringGen(),\n                    typeQuestion: globals.openText.key ,\n                    question: \"Example open text question\",\n                    answers: {},\n                    options: {},\n                },{\n                    id:globals.stringGen(),\n                    typeQuestion: globals.checkBox.key ,\n                    question: \"example multiselect question\",\n                    answers: {},\n                    options: {\n                        checkBox: [\n                            {option: \"option 1\"},\n                            {option: \"option 2\"},\n                            {option: \"option 3\"},\n                        ]\n                    },\n                },{\n                    id:globals.stringGen(),\n                    typeQuestion: globals.radioButton.key ,\n                    question: \"example single Select question\",\n                    answers: {},\n                    options: {\n                        radioButton: [\n                            {option: \"option 1\"},\n                            {option: \"option 2\"},\n                            {option: \"option 3\"},\n                        ]\n                    },\n                },{\n                    id:globals.stringGen(),\n                    typeQuestion: globals.rank.key ,\n                    question: \"example rank question\",\n                    answers: {},\n                    options: {\n                        rank: [\n                            {option: \"option 1\"},\n                            {option: \"option 2\"},\n                            {option: \"option 3\"},\n                            {option: \"option 4\"},\n                        ]\n                    },\n                }]\n                this.prefs.store(globals.userPrefs,globals.surveys,this.surveys)\n            })\n    }\n\n    goToSurvey(survey){\n        let modal = this.modalCtrl.create(SurveyComponent,{survey:survey})\n        modal.present();\n        this.viewCtrl.dismiss();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/survey-pick-survey/survey-pick-survey.ts","import {Component, ViewChild} from '@angular/core';\nimport {\n    AlertController,\n    Content,\n    IonicPage,\n    Keyboard,\n    LoadingController,\n    ModalController,\n    Navbar,\n    NavController,\n    NavParams,\n    Platform,\n    PopoverController,\n    Refresher,\n    TextInput\n} from 'ionic-angular';\nimport {AngularFireDatabase} from \"angularfire2/database\";\nimport {FlikeUser} from \"../../models/flikeUser.model\";\nimport {Message} from \"../../models/message.model\";\nimport * as globals from '../../providers/globals/globals';\nimport {ChatServiceProvider} from \"../../providers/chat-service/chat-service\";\nimport {AppPreferences} from \"@ionic-native/app-preferences\";\nimport * as moment from 'moment';\nimport {VariablesProvider} from \"../../providers/variables/variables\";\nimport {ChatRoom} from \"../../models/chatroom.model\";\nimport {Survey} from \"../../components/survey/survey.model\";\nimport {MeetingsProvider} from \"../../providers/meetings/meetings\";\nimport {TranslationsProvider} from \"../../providers/translations/translations\";\nimport {AdmobProvider} from \"../../providers/admob/admob\";\nimport {ErrorLogProvider} from \"../../providers/error-log/error-log\";\n\n@IonicPage()\n@Component({\n    selector: 'page-chat',\n    templateUrl: 'chat.html',\n})\nexport class ChatPage {\n\n    @ViewChild('navbar') navBar: Navbar;\n    @ViewChild(Content) content: Content;\n    @ViewChild('chat_input') messageInput: TextInput;\n\n    user: FlikeUser;\n    chatroom: ChatRoom;\n    name: string;\n    messages: Array<Message> = [];\n    globals: any = globals;\n    editorMsg:string = \"\";\n    _isOpenEmojiPicker = false;\n    emojiHeight:number;\n    textHeight:number;\n\n    momentInstance: any = moment;\n    survey: Survey;\n    limit:number = 30;\n    moreMsg:number = 30;\n\n    //translations\n    loadMoreMessages:string;\n    messageWrite:string;\n\n\n    //transitionOptions: NativeTransitionOptions;\n\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                public db: AngularFireDatabase,\n                public prefs: AppPreferences,\n                public chatService: ChatServiceProvider,\n                public variables: VariablesProvider,\n                public popover: PopoverController,\n                public meetings: MeetingsProvider,\n                public modal: ModalController,\n                public alert: AlertController,\n                public translate: TranslationsProvider,\n                public loader: LoadingController,\n                public keyboard: Keyboard,\n                public adMob: AdmobProvider,\n                private errorHandler: ErrorLogProvider,\n                private platform: Platform\n    ) {\n        this.user = this.variables.user;\n        console.log(this.user)\n        if (!this.user) this.navCtrl.setRoot(\"ActivationPage\");\n\n        /*this.survey = this.navParams.get(\"survey\");\n        if (this.survey) {\n            //todo close popovers\n        }*/\n        this.emojiHeight = 255;\n        this.textHeight = 55;\n\n        this.platform.registerBackButtonAction(() => {\n\n            if (!this.navCtrl.canGoBack()) {\n                if (this.user.typeOfUser == globals.coach) this.navCtrl.setRoot(\"CoachPage\")\n                else this.navCtrl.setRoot(\"CoacheePage\")\n            } else this.navCtrl.pop();\n        })\n    }\n\n    ionViewDidLoad() {\n\n        this.adMob.hideAdmob().catch( error => this.errorHandler.sendError(\"chatPageLoad - hide adMob\",error));\n        this.chatroom = this.navParams.get(\"chatroom\");\n        this.chatService.updateMsgView(this.chatroom.id,this.user.id);\n\n        if (!this.chatroom) {\n            this.chatService.getChatroomData(this.variables.notificationChatroom)\n                .subscribe( actionGetChatroomData => {\n                    let thisroom = actionGetChatroomData.payload.val()\n                    thisroom.id = thisroom.$key;\n                    this.chatroom = thisroom;\n                    let userAccess: Array<any> = [];\n                    for (let key in thisroom.userAccess){\n                        //populate Array\n                        this.chatService.getUserInfoById(key)\n                            .subscribe( actionGetUserInfo => {\n                                let userInfo = actionGetUserInfo.payload.val()\n                                userInfo.id = key;\n                                console.log(userInfo)\n                                if (!this.userExist(this.chatroom.userAccess,userInfo.id)) {\n                                    userAccess.push(userInfo)\n                                }\n                            },error => this.errorHandler.sendError(\"chatPage, getChatroomData - getUserInfoById from notification (subscription)\",error))\n                    }\n                    this.chatroom.userAccess = userAccess;\n                    this.getMessages(this.limit,false);\n                },error => this.errorHandler.sendError(\"chatPage, getChatroomData from notification (subscription)\",error))\n        } else this.getMessages(this.limit,false);\n        this.loadMoreMessages = this.translate.getTranslation('loadMoreMessages');\n        this.messageWrite = this.translate.getTranslation('messageWrite');\n        this.scrollToBottom()\n    }\n\n\n    userExist(array:any,userId){\n        let exist = false;\n        for (let i = 0; i < array.length; i++){\n            if (array[i].id === userId) exist = true;\n        }\n        return exist\n    }\n\n    getMessages(limit:number,loadMore:boolean){\n        this.messages = [];\n        this.limit = limit;\n        let loader = this.loader.create({\n            spinner: \"bubbles\",\n            content:this.translate.getTranslation('loading')});\n        loader.present();\n        this.chatService.getMsgList(this.chatroom.id,this.limit)\n            .subscribe( messages => {\n                this.populateMessages(messages)\n                loader.dismiss()\n            },error => this.errorHandler.sendError(\"chatPage, getMessages - getMsgList subscription\",error));\n    }\n\n    getMoreMessages(refresher:Refresher){\n        this.chatService.getMsgList(this.chatroom.id,this.limit+this.moreMsg)\n            .subscribe( messages => {\n                this.limit += this.moreMsg;\n                this.populateMessages(messages)\n                refresher.complete()\n            },error => this.errorHandler.sendError(\"chatPage, getMoreMessages - getMsgList subscription\",error))\n\n    }\n\n    populateMessages(messages){\n        for (let key in messages) {\n            messages[key].id = messages[key].$key;\n            this.pushOrUpdateMessage(messages[key]);\n\n        }\n        this.messages = messages;\n\n        this.messages.map( message => {\n\n            if (message.survey){\n\n                //if is an Array is why we already transformed it, don't do it again!\n                if (message.survey.answers && !(message.survey.answers instanceof Array)){\n                    let ans: Array<any> = [];\n                    for (let key in message.survey.answers){\n                        ans.push({id:key,value:message.survey.answers[key]})\n                    }\n                    message.survey.answers = ans;\n                }\n                if (message.survey.options && !(message.survey.options instanceof Array)){\n                    let opt: Array<any> = [];\n                    for (let key in message.survey.options){\n                        opt.push({id:key,value:message.survey.options[key]})\n                    }\n                    message.survey.options = opt;\n                }\n                if (message.survey.typeOfQuestion == globals.selectImage.key || message.survey.typeOfQuestion == globals.rank.key) {\n                    //calculate the badge for each option\n                    for (let i = 0; i<message.survey.options.length; i++) {\n                        message.survey.options[i].badge = this.getBadge(message.survey.options[i].id,message.survey.answers)\n                    }\n                }\n                if (message.survey.typeOfQuestion == globals.checkBox.key) {\n                    for (let i = 0; i<message.survey.options.length; i++) {\n                        message.survey.options[i].checked = this.getChecked(message.survey.options[i].id, message.survey.answers)\n                    }\n                }\n                if (message.survey.typeOfQuestion == globals.radioButton.key) {\n                    for (let i = 0; i<message.survey.options.length; i++) {\n                        message.survey.options[i].checked = this.getRadioChecked(message.survey.options[i].id, message.survey.answers)\n                    }\n                }\n                if (message.survey.typeOfQuestion == globals.openText.key) {\n                    message.survey.userAnswer = this.getOtAnswer(message.survey.answers)\n                }\n            }\n        })\n\n    }\n\n    getChecked(option:string,answers:any){\n        let checked = false;\n        answers.map( answer => {\n            if (answer.id == this.user.id){\n                for (let key in answer.value){\n                    if (option == key) checked = true;\n                }\n            }\n        });\n        return checked;\n    }\n\n    getRadioChecked(option:string,answers:any){\n        let checked = false;\n        answers.map( answer => {\n            if (answer.id == this.user.id){\n                if (option == answer.value) checked = true;\n            }\n        });\n        return checked;\n    }\n\n    getOtAnswer(answers:any) {\n        let userAnswer: string;\n        answers.map(answer => {\n            if (answer.id == this.user.id) userAnswer = answer.value\n        })\n        return userAnswer;\n    }\n\n    getBadge(value:string,answers:any){\n        let badge = 0;\n        answers.map(answer => {\n            if (answer.id == this.user.id){\n                for (let key in answer.value){\n                    if (value == key) badge = answer.value[key]\n                }\n            }\n        });\n        return badge;\n    }\n\n\n    getUserNameById(userID:string) {\n        let username = \"\";\n        this.chatroom.userAccess.map(user => {\n            if (user.id === userID) username = user.fullname\n        });\n        return username;\n    }\n\n    switchEmojiPicker() {\n        this._isOpenEmojiPicker = !this._isOpenEmojiPicker;\n        if (!this._isOpenEmojiPicker) {\n            this.messageInput.setFocus();\n        }\n        this.content.resize();\n        this.scrollToBottom();\n    }\n\n    sendMsg() {\n\n        if (!this.editorMsg.trim()) return;\n\n        let newMsg: Message = {\n            sender: this.user.id,\n            timestamp: Date.now(),\n            message: this.editorMsg,\n            typeOfMessage: this.globals.typeChat,\n            survey: {}\n        };\n\n        this.editorMsg = '';\n\n        if (!this._isOpenEmojiPicker) {\n            this.messageInput.setFocus();\n        }\n\n        this.chatService.sendMsg(newMsg,this.chatroom.id,globals.groupAll,this.getUserNameById(newMsg.sender))\n            .then((result) => {\n            console.log(result)\n                //update sent status\n                this.pushNewMsg();\n            },error => console.log(error))\n    }\n\n    pushNewMsg() {\n        this.scrollToBottom();\n        this.textHeight = 55;\n        const element   = document.getElementById('chat_input');\n        const textarea  = element.getElementsByTagName('textarea')[0];\n        element.style.height      = 33 + \"px\";\n        textarea.style.minHeight  = 33 + \"px\";\n        textarea.style.height     = 33 + \"px\";\n        this.content.resize();\n\n    }\n\n    focus() {\n        this._isOpenEmojiPicker = false;\n        this.content.resize();\n        //this.scrollToBottom();\n    }\n\n    change() {\n        // get elements\n        const element   = document.getElementById('chat_input');\n        const textarea  = element.getElementsByTagName('textarea')[0];\n        // set default style for textarea\n\n        // limit size to 96 pixels (6 lines of text)\n        let scroll_height = textarea.scrollHeight;\n        if(scroll_height > 96)\n            scroll_height = 96;\n\n        // apply new style\n        element.style.height      = Math.max(scroll_height,33) + \"px\";\n        textarea.style.minHeight  = Math.max(scroll_height,33) + \"px\";\n        textarea.style.height     = Math.max(scroll_height,33) + \"px\";\n        this.textHeight    = Math.max(scroll_height+15,55);\n        this.content.resize();\n    }\n\n    scrollToBottom() {\n        setTimeout(() => {\n            if (this.content.scrollToBottom) {\n                this.content.scrollToBottom();\n            }\n        }, 400)\n    }\n\n    showSurveyPicker(event){\n        let popover = this.popover.create(\"SurveyPickerComponent\");\n        popover.present({ev:event});\n    }\n\n    markSeen(event){\n        let alert = this.alert.create({subTitle:this.translate.getTranslation('seenMarked')+moment().format('DD/MM/YYYY - hh:mm')});\n        if (this.chatroom.userAccess.length <= 2){\n            this.meetings.saveNote(this.user.id,this.getOtherId(),null)\n                .then(() => alert.present(),\n                        error =>\n                            this.errorHandler.sendError(\"chatPage, markSeen - saveNote promise update single user\",error))\n\n        } else {\n            let coacheeId:string;\n            this.chatroom.userAccess.map( user => {\n                if (user.id != this.user.id) coacheeId = user.id;\n            });\n            /*let popover = this.popover.create(UserSelectComponent,{users:this.chatroom.userAccess});\n            popover.present({ev:event});\n            popover.onDidDismiss( userSelected => {\n                if (userSelected){\n                    this.meetings.saveNote(this.user.id,userSelected.userId,null)\n                }\n            })*/\n            this.meetings.saveNote(this.user.id,coacheeId,null)\n                .then(null,\n                        error =>\n                            this.errorHandler.sendError(\"chatPage, markseen - saveNote promise update multi user\",error))\n\n        }\n\n    }\n\n    goToMeeting(event){\n        if (this.chatroom.userAccess.length <= 2) {\n\n            this.navCtrl.push(\"MeetingsPage\", {user: this.user, coachee: this.getUserById(this.getOtherId()),chatroom:this.chatroom});\n        } else {\n            //popover is not showing on android, until finished just take the las user in array which is not self\n            let coacheeId:string;\n            this.chatroom.userAccess.map( user => {\n                if (user.id != this.user.id) coacheeId = user.id;\n            });\n            /*let popover = this.popover.create(UserSelectComponent,{users:this.chatroom.userAccess});\n            popover.present({ev:event});\n            popover.onDidDismiss( userSelected => {\n                if (userSelected){\n                    this.navCtrl.push(MeetingsPage, {user: this.user, coachee: this.getUserById(userSelected.userId),chatroom:this.chatroom});\n                }\n            })*/\n            this.navCtrl.push(\"MeetingsPage\", {user: this.user, coachee: this.getUserById(coacheeId),chatroom:this.chatroom});\n\n        }\n\n    }\n\n    getOtherId(){\n        let id:string;\n        this.chatroom.userAccess.map( user => {\n            if (this.user.id != user.id) id = user.id;\n        });\n        return id;\n    }\n\n    getUserById(id:string){\n        let userById: FlikeUser;\n        this.chatroom.userAccess.map( user => {\n            if (user.id === id) userById = user;\n        });\n        return userById;\n    }\n\n    pushOrUpdateMessage(message:any){\n        let indexOfMessage = -1;\n        for (let i = 0; i < this.messages.length; i++){\n            if (message.id === this.messages[i].id) indexOfMessage = i;\n        }\n        if (indexOfMessage == -1) this.messages.push(message);\n        else this.messages[indexOfMessage] = message\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat/chat.ts","import {NgModule} from \"@angular/core\";\nimport {CheckBoxComponent} from \"./check-box/check-box\";\nimport {EmojiPickerComponent} from \"./emoji-picker/emoji-picker\";\nimport {HowMuchSurveyComponent} from \"./how-much-survey/how-much-survey\";\nimport {ImageSurveyComponent} from \"./image-survey/image-survey\";\nimport {OpenTextSurveyComponent} from \"./open-text-survey/open-text-survey\";\nimport {RadioButtonSurveyComponent} from \"./radio-button-survey/radio-button-survey\";\nimport {RankSurveyComponent} from \"./rank-survey/rank-survey\";\nimport {SurveyComponent} from \"./survey/survey\";\nimport {SurveyPickSurveyComponent} from \"./survey-pick-survey/survey-pick-survey\";\nimport {SurveyPickerComponent} from \"./survey-picker/survey-picker\";\nimport {UserSelectComponent} from \"./user-select/user-select\";\nimport {IonicModule} from \"ionic-angular\";\n\n@NgModule({\n    declarations:[\n        CheckBoxComponent,\n        EmojiPickerComponent,\n        HowMuchSurveyComponent,\n        ImageSurveyComponent,\n        OpenTextSurveyComponent,\n        RadioButtonSurveyComponent,\n        RankSurveyComponent,\n        SurveyComponent,\n        SurveyPickSurveyComponent,\n        SurveyPickerComponent,\n        UserSelectComponent\n    ],\n    imports:[IonicModule],\n    exports: [\n        CheckBoxComponent,\n        EmojiPickerComponent,\n        HowMuchSurveyComponent,\n        ImageSurveyComponent,\n        OpenTextSurveyComponent,\n        RadioButtonSurveyComponent,\n        RankSurveyComponent,\n        SurveyComponent,\n        SurveyPickSurveyComponent,\n        SurveyPickerComponent,\n        UserSelectComponent\n\n    ]\n})\n\nexport class ComponentsModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import {Component, Input} from '@angular/core';\nimport {Message} from \"../../models/message.model\";\nimport {FlikeUser} from \"../../models/flikeUser.model\";\nimport {ChatRoom} from \"../../models/chatroom.model\";\nimport {TranslationsProvider} from \"../../providers/translations/translations\";\nimport {SurveyProvider} from \"../../providers/survey/survey\";\nimport * as globals from '../../providers/globals/globals';\nimport {ErrorLogProvider} from \"../../providers/error-log/error-log\";\n\n\n\n@Component({\n  selector: 'check-box',\n  templateUrl: 'check-box.html'\n})\nexport class CheckBoxComponent {\n\n    @Input() message: Message;\n    @Input() user: FlikeUser;\n    globals:any = globals;\n    @Input() chatroom: ChatRoom;\n    cbAnswer: any;\n    constructor(public translate: TranslationsProvider,\n                public survey: SurveyProvider,\n                private errorHandler: ErrorLogProvider) {\n    }\n\n    ngOnInit(): void {\n        this.cbAnswer = this.getUserAnswer(null);\n    }\n\n    getUserNameById(userID:string) {\n        let username = \"\";\n        this.chatroom.userAccess.map(user => {\n            if (user.id === userID) username = user.fullname\n        });\n        return username;\n    }\n\n    saveOption(checked,key){\n        this.cbAnswer[key] = checked?checked:null;\n        this.sendAnswer()\n    }\n\n    sendAnswer(){\n        this.survey.sendAnswer(this.cbAnswer,this.user.id,this.message.id,this.chatroom.id)\n            .catch(error => this.errorHandler.sendError(\"checkBox survey - send answer\",error))\n\n    }\n    getUserAnswer(userId){\n        let userAnswer:any = {};\n        this.message.survey.answers.map(answer => {\n            if (userId) {\n                if (answer.id == userId) userAnswer = answer.value;\n            } else if (answer.id == this.user.id) userAnswer = answer.value;\n        });\n        return userAnswer\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/check-box/check-box.ts","import {Component, forwardRef} from '@angular/core';\nimport {EmojiProvider} from \"../../providers/emoji/emoji\";\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from \"@angular/forms\";\n\n\nexport const EMOJI_PICKER_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => EmojiPickerComponent),\n    multi: true\n};\n\n@Component({\n    selector: 'emoji-picker',\n    providers: [EMOJI_PICKER_VALUE_ACCESSOR],\n    templateUrl: './emoji-picker.html'\n})\nexport class EmojiPickerComponent implements ControlValueAccessor {\n\n    emojiArr = [];\n\n    _content: string;\n    _onChanged: Function;\n    _onTouched: Function;\n\n    constructor(emojiProvider: EmojiProvider) {\n        this.emojiArr = emojiProvider.getEmojis();\n    }\n\n\n    writeValue(obj: any): void {\n        this._content = obj;\n    }\n\n    registerOnChange(fn: any): void {\n        this._onChanged = fn;\n        this.setValue(this._content);\n    }\n\n    registerOnTouched(fn: any): void {\n        this._onTouched = fn;\n    }\n\n    private setValue(val: any): any {\n        this._content += val;\n        if (this._content) {\n            this._onChanged(this._content)\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/emoji-picker/emoji-picker.ts","import {Component, Input, OnInit} from '@angular/core';\nimport {Message} from \"../../models/message.model\";\nimport {FlikeUser} from \"../../models/flikeUser.model\";\nimport * as globals from '../../providers/globals/globals';\nimport {ChatRoom} from \"../../models/chatroom.model\";\nimport {SurveyProvider} from \"../../providers/survey/survey\";\nimport {ErrorLogProvider} from \"../../providers/error-log/error-log\";\n\n\n@Component({\n    selector: 'how-much-survey',\n    templateUrl: 'how-much-survey.html'\n})\nexport class HowMuchSurveyComponent implements OnInit{\n\n    @Input() message: Message;\n    @Input() user: FlikeUser;\n    globals:any = globals;\n    @Input() chatroom: ChatRoom;\n    answer: string;\n    constructor(public survey: SurveyProvider,\n                private errorHandler: ErrorLogProvider) {\n    }\n\n    ngOnInit(){\n        this.getUserAnswer();\n    }\n\n    sendAnswer(){\n        this.survey.sendAnswer(this.answer,this.user.id,this.message.id,this.chatroom.id)\n            .catch(error => this.errorHandler.sendError(\"howMuch survey - send answer\",error));\n        this.getUserAnswer();\n    }\n\n    getUserNameById(userID:string) {\n        let username = \"\";\n        this.chatroom.userAccess.map(user => {\n            if (user.id === userID) username = user.fullname\n        });\n        return username;\n    }\n\n    getUserAnswer(){\n        this.message.survey.answers.map( answer =>{\n            if (answer.id == this.user.id) this.answer = answer.value;\n        })\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/how-much-survey/how-much-survey.ts","import {Component, Input, OnInit} from '@angular/core';\nimport {Message} from \"../../models/message.model\";\nimport {FlikeUser} from \"../../models/flikeUser.model\";\nimport * as globals from '../../providers/globals/globals';\nimport {ChatRoom} from \"../../models/chatroom.model\";\nimport {TranslationsProvider} from \"../../providers/translations/translations\";\nimport {SurveyProvider} from \"../../providers/survey/survey\";\nimport {AlertController} from \"ionic-angular\";\nimport {ErrorLogProvider} from \"../../providers/error-log/error-log\";\n\n@Component({\n    selector: 'image-survey',\n    templateUrl: 'image-survey.html'\n})\nexport class ImageSurveyComponent implements OnInit{\n\n    @Input() message: Message;\n    @Input() user: FlikeUser;\n    globals:any = globals;\n    @Input() chatroom: ChatRoom;\n    numAnswers: number;\n    constructor(public survey: SurveyProvider,\n                public alert: AlertController,\n                public translate: TranslationsProvider,\n                private errorHandler: ErrorLogProvider) {\n\n    }\n\n    ngOnInit(){\n        console.log(this.message);\n        this.numAnswers = 0;\n    }\n\n    saveOption(event,option){\n\n        let answer = {}\n        answer[option.id] = option.badge;\n        let userAnswer = this.getUserAnswer()\n        for (let key in userAnswer) {\n            answer[key] = userAnswer[key]\n        }\n        this.numAnswers = this.getNumAnswers();\n\n        if (answer[option.id] == 0) {\n            if (this.numAnswers >= this.message.survey.maxNumOfAnswers) {\n                let alert = this.alert.create({message: this.translate.getTranslation('maxSelections') + this.message.survey.maxNumOfAnswers});\n                alert.present();\n            }\n            else answer[option.id] = this.getHighestValue(answer)+1;\n        }\n        else {\n            answer = this.rubstractOneToAll(answer,answer[option.id]);\n            answer[option.id] = 0;\n        }\n        this.survey.sendAnswer(answer,this.user.id,this.message.id,this.chatroom.id)\n            .catch(error => this.errorHandler.sendError(\"image survey - send answer\",error));\n    }\n\n    getNumAnswers(){\n        let numAnswers = 0;\n        let userAnswer = this.getUserAnswer();\n\n        for (let key in userAnswer){\n            if (userAnswer[key] > 0) numAnswers++;\n        }\n        this.numAnswers = numAnswers;\n        return this.numAnswers;\n    }\n\n    getHighestValue(answer:any):number{\n        let value = 0;\n        for (let key in answer){\n            if ( answer[key] > value) value =  answer[key]\n        }\n        return value;\n    }\n    rubstractOneToAll(answer:any,minValue:number) {\n        for (let key in answer) {\n            if (answer[key] > minValue) answer[key] -= 1;\n        }\n        return answer;\n    }\n\n    getUserAnswer(){\n        let userAnswer:any = {};\n        this.message.survey.answers.map(answer => {\n            if (answer.id == this.user.id) userAnswer = answer.value;\n        })\n        return userAnswer\n    }\n\n\n    getUserNameById(userID:string) {\n        let username = \"\";\n        this.chatroom.userAccess.map(user => {\n            if (user.id === userID) username = user.fullname\n        });\n        return username;\n    }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/image-survey/image-survey.ts","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {Message} from \"../../models/message.model\";\nimport {FlikeUser} from \"../../models/flikeUser.model\";\nimport * as globals from '../../providers/globals/globals';\nimport {TranslationsProvider} from \"../../providers/translations/translations\";\nimport {SurveyProvider} from \"../../providers/survey/survey\";\nimport {ChatRoom} from \"../../models/chatroom.model\";\nimport {AlertController, Content} from \"ionic-angular\";\nimport {ErrorLogProvider} from \"../../providers/error-log/error-log\";\n\n\n@Component({\n    selector: 'open-text-survey',\n    templateUrl: 'open-text-survey.html'\n})\nexport class OpenTextSurveyComponent implements OnInit {\n\n\n    @Input() message: Message;\n    @Input() user: FlikeUser;\n    @Input() chatroom: ChatRoom;\n    @ViewChild(Content) content: Content;\n\n    globals:any = globals;\n    answer: string;\n    minLength:string;\n    canSend:boolean;\n    minWords:string;\n\n    constructor(public translate: TranslationsProvider,\n                public survey: SurveyProvider,\n                public alert: AlertController,\n                private errorHandler: ErrorLogProvider) {\n    }\n\n    ngOnInit(): void {\n        console.log(this.message)\n\n        this.answer = this.translate.getTranslation(\"answer\");\n        this.minLength = this.translate.getTranslation(\"minLength\")+this.message.survey.minLength;\n        this.canSend = this.checkIfCanSend();\n        this.minWords = this.translate.getTranslation('minWords')+this.message.survey.minWordCount;\n    }\n\n    checkLength(event) {\n        if (this.message.survey.userAnswer.length >= this.message.survey.maxLength) {\n            event.preventDefault()\n        }\n        this.canSend = this.checkIfCanSend();\n\n    }\n\n    checkIfCanSend(){\n        let numWords = this.getNumWords();\n        return (this.message.survey.userAnswer.length >= this.message.survey.minLength && numWords >= this.message.survey.minWordCount)\n    }\n\n    getNumWords() {\n        let original = this.message.survey.userAnswer;\n        let numWords = this.message.survey.userAnswer.split(' ');\n        this.message.survey.userAnswer = original;\n        if (numWords[numWords.length-1] == '') return numWords.length-1;\n        else return numWords.length;\n    }\n\n    getUserNameById(userID:string) {\n        let username = \"\";\n        this.chatroom.userAccess.map(user => {\n            if (user.id === userID) username = user.fullname\n        });\n        return username;\n    }\n\n    sendAnswer(){\n        if (this.checkIfCanSend()) {\n            this.survey.sendAnswer(this.message.survey.userAnswer, this.user.id, this.message.id, this.chatroom.id)\n                .then( () => {\n                    let alert = this.alert.create({\n                        message:this.translate.getTranslation('answerSaved')\n                    })\n                    alert.present();\n                })\n                .catch(error => this.errorHandler.sendError(\"openText survey - send answer\",error)   )\n        }\n        else {\n            let alert = this.alert.create({message:this.translate.getTranslation('minRequirements')})\n            alert.present()\n        }\n    }\n\n    change() {\n        // get elements\n        const element   = document.getElementById('otInput');\n        const textarea  = element.getElementsByTagName('textarea')[0];\n        // set default style for textarea\n\n        // limit size to 96 pixels (6 lines of text)\n        let scroll_height = textarea.scrollHeight;\n        if(scroll_height > 96)\n            scroll_height = 96;\n\n        // apply new style\n        element.style.height      = Math.max(scroll_height,38) + \"px\";\n        textarea.style.minHeight  = Math.max(scroll_height,38) + \"px\";\n        textarea.style.height     = Math.max(scroll_height,38) + \"px\";\n        this.content.resize();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/open-text-survey/open-text-survey.ts","import {Component, Input, OnInit} from '@angular/core';\nimport {Message} from \"../../models/message.model\";\nimport {FlikeUser} from \"../../models/flikeUser.model\";\nimport * as globals from '../../providers/globals/globals';\nimport {ChatRoom} from \"../../models/chatroom.model\";\nimport {TranslationsProvider} from \"../../providers/translations/translations\";\nimport {SurveyProvider} from \"../../providers/survey/survey\";\nimport {ErrorLogProvider} from \"../../providers/error-log/error-log\";\n\n\n@Component({\n    selector: 'radio-button-survey',\n    templateUrl: 'radio-button-survey.html'\n})\nexport class RadioButtonSurveyComponent implements OnInit {\n\n\n    @Input() message: Message;\n    @Input() user: FlikeUser;\n    globals:any = globals;\n    @Input() chatroom: ChatRoom;\n    rbAnswer: any;\n    selectedOption:string;\n    constructor(public translate: TranslationsProvider,\n                public survey: SurveyProvider,\n                private errorHandler: ErrorLogProvider) {\n    }\n\n    ngOnInit(): void {\n        console.log(this.message)\n    }\n\n    getUserNameById(userID:string) {\n        let username = \"\";\n        this.chatroom.userAccess.map(user => {\n            if (user.id === userID) username = user.fullname\n        });\n        return username;\n    }\n\n    saveOption(checked,key){\n        this.rbAnswer = checked?key:null;\n        this.sendAnswer()\n    }\n\n    sendAnswer(){\n        this.survey.sendAnswer(this.rbAnswer,this.user.id,this.message.id,this.chatroom.id)\n            .catch(error => this.errorHandler.sendError(\"radioButton survey - send answer\",error))\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/radio-button-survey/radio-button-survey.ts","import {Component, Input} from '@angular/core';\nimport {Message} from \"../../models/message.model\";\nimport {FlikeUser} from \"../../models/flikeUser.model\";\nimport * as globals from '../../providers/globals/globals';\nimport {ChatRoom} from \"../../models/chatroom.model\";\nimport {SurveyProvider} from \"../../providers/survey/survey\";\nimport {AlertController} from \"ionic-angular\";\nimport {TranslationsProvider} from \"../../providers/translations/translations\";\nimport {ErrorLogProvider} from \"../../providers/error-log/error-log\";\n\n\n@Component({\n    selector: 'rank-survey',\n    templateUrl: 'rank-survey.html'\n})\nexport class RankSurveyComponent {\n\n    @Input() message: Message;\n    @Input() user: FlikeUser;\n    globals:any = globals;\n    @Input() chatroom: ChatRoom;\n    numAnswers: number;\n    constructor(public survey: SurveyProvider,\n                public alert: AlertController,\n                public translate: TranslationsProvider,\n                private errorHandler: ErrorLogProvider) {\n\n    }\n\n    ngOnInit(){\n        this.numAnswers = 0;\n    }\n\n    saveOption(event,option){\n\n        let answer = {}\n        answer[option.id] = option.badge;\n        let userAnswer = this.getUserAnswer()\n        for (let key in userAnswer) {\n            answer[key] = userAnswer[key]\n        }\n        this.numAnswers = this.getNumAnswers();\n\n        if (answer[option.id] == 0) {\n            if (this.numAnswers >= this.message.survey.maxNumOfAnswers) {\n                let alert = this.alert.create({message: this.translate.getTranslation('maxSelections') + this.message.survey.maxNumOfAnswers});\n                alert.present();\n            }\n            else answer[option.id] = this.getHighestValue(answer)+1;\n        }\n        else {\n            answer = this.rubstractOneToAll(answer,answer[option.id]);\n            answer[option.id] = 0;\n        }\n        this.survey.sendAnswer(answer,this.user.id,this.message.id,this.chatroom.id)\n            .catch(error => this.errorHandler.sendError(\"rank survey - send answer\",error));\n    }\n\n    getNumAnswers(){\n        let numAnswers = 0;\n        let userAnswer = this.getUserAnswer();\n\n        for (let key in userAnswer){\n            if (userAnswer[key] > 0) numAnswers++;\n        }\n        this.numAnswers = numAnswers;\n        return this.numAnswers;\n    }\n\n    getHighestValue(answer:any):number{\n        let value = 0;\n        for (let key in answer){\n            if ( answer[key] > value) value =  answer[key]\n        }\n        return value;\n    }\n    rubstractOneToAll(answer:any,minValue:number) {\n        for (let key in answer) {\n            if (answer[key] > minValue) answer[key] -= 1;\n        }\n        return answer;\n    }\n\n    getUserAnswer(){\n        let userAnswer:any = {};\n        this.message.survey.answers.map(answer => {\n            if (answer.id == this.user.id) userAnswer = answer.value;\n        })\n        return userAnswer\n    }\n\n\n    getUserNameById(userID:string) {\n        let username = \"\";\n        this.chatroom.userAccess.map(user => {\n            if (user.id === userID) username = user.fullname\n        });\n        return username;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/rank-survey/rank-survey.ts","import { Component } from '@angular/core';\nimport {ModalController, PopoverController, ViewController} from \"ionic-angular\";\nimport {SurveyPickSurveyComponent} from \"../survey-pick-survey/survey-pick-survey\";\nimport {SurveyComponent} from \"../survey/survey\";\n\n\n@Component({\n    selector: 'survey-picker',\n    templateUrl: 'survey-picker.html'\n})\nexport class SurveyPickerComponent {\n\n    text: string;\n\n    constructor(public popover: PopoverController,public modal: ModalController,\n                public viewCtrl: ViewController) {\n\n    }\n\n    newSurvey(){\n        let modal = this.modal.create(SurveyComponent);\n        modal.present();\n        this.viewCtrl.dismiss();\n    }\n\n    pickSurvey(event){\n        let popover = this.popover.create(SurveyPickSurveyComponent);\n        popover.present({ev:event})\n        popover.onDidDismiss(()=> this.viewCtrl.dismiss())\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/survey-picker/survey-picker.ts","import { Component } from '@angular/core';\nimport { NavParams, ViewController } from \"ionic-angular\";\nimport { FlikeUser } from \"../../models/flikeUser.model\";\nimport { AppPreferences } from \"@ionic-native/app-preferences\";\nimport * as globals from '../../providers/globals/globals';\n\n@Component({\n    selector: 'user-select',\n    templateUrl: 'user-select.html'\n})\nexport class UserSelectComponent {\n\n    users: Array<FlikeUser>;\n    user: FlikeUser;\n    global: any = globals;\n    constructor(public navParams: NavParams,\n                public viewCtrl: ViewController,\n                public prefs: AppPreferences) {\n        this.users = this.navParams.get(\"users\")\n        console.log(this.users)\n        this.prefs.fetch(globals.userPrefs,globals.userItem)\n            .then( user => {\n                this.user = user;\n            })\n    }\n\n    selectUser(user){\n        this.viewCtrl.dismiss({userId:user.id})\n    }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/user-select/user-select.ts"],"sourceRoot":""}