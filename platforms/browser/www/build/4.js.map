{"version":3,"sources":["../../src/pages/coachee/coachee.module.ts","../../src/pages/coachee/coachee.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {CoacheePage} from './coachee';\n\n@NgModule({\n  declarations: [\n    CoacheePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CoacheePage),\n  ],\n    exports:[\n        CoacheePage\n    ]\n})\nexport class CoacheePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/coachee/coachee.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams} from 'ionic-angular';\nimport {AppPreferences} from \"@ionic-native/app-preferences\";\nimport {ActivationPage} from \"../activation/activation\";\nimport {FlikeUser} from \"../../models/flikeUser.model\";\nimport {VariablesProvider} from \"../../providers/variables/variables\";\nimport {AngularFireDatabase} from \"angularfire2/database\";\nimport {AdmobProvider} from \"../../providers/admob/admob\";\nimport * as globals from '../../providers/globals/globals';\nimport {ErrorLogProvider} from \"../../providers/error-log/error-log\";\n\n\n@IonicPage()\n@Component({\n    selector: 'page-coachee',\n    templateUrl: 'coachee.html',\n})\nexport class CoacheePage {\n\n    user:FlikeUser;\n    chatroomByUser:any = {};\n    AllPage = \"AllPage\";\n    globals:any = globals;\n\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                public prefs: AppPreferences,\n                public loader: LoadingController,\n                public db: AngularFireDatabase,\n                public variables: VariablesProvider,\n                private admobService: AdmobProvider,\n                private errorHandler: ErrorLogProvider\n\n    ) {\n\n        this.user = this.variables.user;\n        if (!this.user.id) this.navCtrl.setRoot(\"ActivationPage\")\n    }\n\n\n\n    ionViewDidLoad() {\n\n        if (this.user.id){\n            this.getChatroomByUser()\n\n        } else {\n            this.prefs.fetch(globals.userPrefs,\"user\")\n                .then (user => {\n                    if (!user.id) this.navCtrl.setRoot(\"ActivationPage\");\n                    else this.getChatroomByUser()\n                })\n        }\n\n    }\n\n    getChatroomByUser(){\n        let ref =   '/chatroomByUser/'+this.user.id;\n\n        console.log(ref)\n        let chatroomRef = this.db.object(ref).snapshotChanges()\n            .subscribe( actionChatroomByUser => {\n\n                this.chatroomByUser = actionChatroomByUser.payload.val();\n                console.log(this.chatroomByUser)\n                if (this.chatroomByUser.showAdMob &&\n                    (!this.chatroomByUser.quote || this.chatroomByUser.quote != \"\") &&\n                    (!this.chatroomByUser.quoteImgUrl || this.chatroomByUser.quoteImgUrl != \"\")) {\n                    this.admobService.showAdmob().then( banner => {\n                    }).catch( error => console.log(error));\n                } else {\n                    this.admobService.hideAdmob().then( banner => {\n                    }).catch( error => this.errorHandler.sendError(\"coacheePage, getChatroomByUser - hide adMob\",error));\n                }\n                chatroomRef.unsubscribe();\n            },error => {\n                this.errorHandler.sendError(\"coacheePage, getChatroomByUser - chatroomsRef subscription\",error)\n            })\n    }\n\n    logout(){\n        this.db.app.database().ref('/users/'+this.user.id).update({firebaseToken:null})\n        this.variables.user = null;\n        this.prefs.remove(globals.userPrefs,globals.userItem);\n        this.prefs.remove(globals.userPrefs,globals.surveys);\n        this.navCtrl.setRoot(\"ActivationPage\");\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/coachee/coachee.ts"],"sourceRoot":""}