{"version":3,"sources":["../../src/pages/agreement/agreement.module.ts","../../src/pages/agreement/agreement.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {AgreementPage} from './agreement';\n\n@NgModule({\n  declarations: [\n    AgreementPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AgreementPage),\n  ],\n    exports:[\n        AgreementPage\n    ]\n})\nexport class AgreementPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/agreement/agreement.module.ts","import {Component} from '@angular/core';\nimport {AlertController, IonicPage, NavController} from 'ionic-angular';\nimport {FlikeUser} from \"../../models/flikeUser.model\";\nimport {AngularFireDatabase} from \"angularfire2/database\";\nimport {VariablesProvider} from \"../../providers/variables/variables\";\nimport {TranslationsProvider} from \"../../providers/translations/translations\";\nimport {NativePageTransitions, NativeTransitionOptions} from \"@ionic-native/native-page-transitions\";\nimport {ErrorLogProvider} from \"../../providers/error-log/error-log\";\n\n\n@IonicPage()\n@Component({\n    selector: 'page-agreement',\n    templateUrl: 'agreement.html',\n})\nexport class AgreementPage {\n\n    user:FlikeUser;\n\n    //translations\n    agree:string;\n    disagree:string;\n    transitionOptions: NativeTransitionOptions;\n\n    constructor(public navCtrl: NavController,\n                public alert: AlertController,\n                public db: AngularFireDatabase,\n                public variables: VariablesProvider,\n                public translate: TranslationsProvider,\n                public nativePageTransitions: NativePageTransitions,\n                private errorHandler: ErrorLogProvider\n\n    ) {\n        this.user = this.variables.user;\n        console.log(this.user)\n    }\n\n    ionViewWillLeave() {\n        this.transitionOptions = {\n            direction: 'left',\n            duration: 300,\n            slowdownfactor: 4,\n        };\n        //this.nativePageTransitions.slide(this.transitionOptions)\n    }\n\n    ionViewDidLoad() {\n        this.agree = this.translate.getTranslation('agree');\n        this.disagree = this.translate.getTranslation('disagree')\n    }\n\n    validateAgreement(agree:boolean){\n        let userRef = this.db.app.database().ref('/users/'+this.user.id);\n        if (!agree){\n            userRef.update({'optIns/App/opt_in':false,'optIns/App/hasAnswered':'Weigeren'})\n                .catch(error => this.errorHandler.sendError(\"validate agreement - update agreement\",error));\n            this.alert.create({\n                title: this.translate.getTranslation('accessDenied'),\n                subTitle: this.translate.getTranslation('contactMentor'),\n                buttons: [this.translate.getTranslation('ok')]\n            }).present();\n            this.navCtrl.setRoot(\"ActivationPage\");\n        } else {\n            userRef.update({'optIns/App/opt_in':true,'optIns/App/hasAnswered':'Akkoord'} );\n            this.navCtrl.setRoot(\"HomePage\")\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/agreement/agreement.ts"],"sourceRoot":""}